(this["webpackJsonp@jbrowse/web"]=this["webpackJsonp@jbrowse/web"]||[]).push([[72],{2518:function(e,t,a){"use strict";a.r(t);var n=a(154),r=a(409),l=a(92),c=a(101),i=a(83),o=a(1),s=a.n(o),u=a(2394),f=a(2408),m=a(2501),d=a(2401),p=a(2443),b=a(2386),h=a(2414),v=a(140),g=a(535),E=a(85),O=a(84),w=a(88),j=a(477),k=a(51),y=a(2424),S=a(2427),C=a(2398),N=a(2428),F=a(2430),T=a(2391),B=a(117),L=a.n(B),D=Object(k.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},block:{display:"block"}}}));var A=Object(E.observer)((function(e){var t=e.model,a=e.handleClose,n=e.feature,r=e.viewType,l=D(),c=Object(o.useState)(!0),u=Object(i.a)(c,2),d=u[0],p=u[1],b=Object(o.useState)(!0),v=Object(i.a)(b,2),g=v[0],E=v[1];return s.a.createElement(y.a,{open:!0,onClose:a},s.a.createElement(S.a,null,"Breakpoint split view options",a?s.a.createElement(C.a,{className:l.closeButton,onClick:function(){a()}},s.a.createElement(L.a,null)):null),s.a.createElement(h.a,null),s.a.createElement(N.a,null,s.a.createElement(f.a,{className:l.block,control:s.a.createElement(m.a,{checked:d,onChange:function(){return p((function(e){return!e}))}}),label:"Copy tracks into the new view"}),s.a.createElement(f.a,{className:l.block,control:s.a.createElement(m.a,{checked:g,onChange:function(){return E((function(e){return!e}))}}),label:"Mirror tracks vertically in vertically stacked view"})),s.a.createElement(F.a,null,s.a.createElement(T.a,{onClick:function(){var e=t.view,l=Object(O.getSession)(t),c=r.snapshotFromBreakendFeature(n,e);c.views[0].offsetPx-=e.width/2+100,c.views[1].offsetPx-=e.width/2+100,c.featureData=n;var i=Object(w.getSnapshot)(e.tracks);c.views[0].tracks=i,c.views[1].tracks=g?i.slice().reverse():i,l.addView("BreakpointSplitView",c),a()},variant:"contained",color:"primary",autoFocus:!0},"OK"),s.a.createElement(T.a,{onClick:function(){a()},color:"secondary",variant:"contained",autoFocus:!0},"Cancel")))})),J=a(259),P=["samples"];function q(e){var t=Object(o.useState)({}),a=Object(i.a)(t,2),n=a[0],p=a[1],b=Object(o.useState)(!1),h=Object(i.a)(b,2),v=h[0],E=h[1],O=e.feature.samples,w=void 0===O?{}:O,k=Object.entries(w);if(!k.length)return null;var y,S=["sample"].concat(Object(c.a)(Object.keys(k[0][1]))).map((function(e){return{field:e}})),C=[],N=Object.keys(n);try{C=k.map((function(e){return Object(l.a)(Object(l.a)({},Object.fromEntries(Object.entries(e[1]).map((function(e){return[e[0],String(e[1])]})))),{},{sample:e[0],id:e[0]})})).filter((function(e){return!N.length||N.every((function(t){var a=e[t],r=n[t];return!r||a.match(new RegExp(r,"i"))}))}))}catch(F){y=F}return s.a.createElement(j.BaseCard,Object.assign({},e,{title:"Samples"}),y?s.a.createElement(u.a,{color:"error"},"".concat(y)):null,s.a.createElement(f.a,{control:s.a.createElement(m.a,{checked:v,onChange:function(){return E((function(e){return!e}))}}),label:"Show sample filters"}),v?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"),S.map((function(e){var t=e.field;return s.a.createElement(d.a,{key:"filter-".concat(t),placeholder:"Filter ".concat(t),value:n[t]||"",onChange:function(e){return p(Object(l.a)(Object(l.a)({},n),{},Object(r.a)({},t,e.target.value)))}})}))):null,s.a.createElement("div",{style:{height:600,width:"100%",overflow:"auto"}},s.a.createElement(g.DataGrid,{rows:C,columns:S,rowHeight:20,headerHeight:25,disableSelectionOnClick:!0,disableColumnMenu:!0})))}function x(e){var t,a=e.model,n=e.locStrings,r=e.feature,l=Object(O.getSession)(a),c=Object(w.getEnv)(l).pluginManager,f=Object(o.useState)(!1),m=Object(i.a)(f,2),d=m[0],b=m[1];try{t=c.getViewType("BreakpointSplitView")}catch(g){}var h=new v.a(r);return s.a.createElement(j.BaseCard,Object.assign({},e,{title:"Breakends"}),s.a.createElement(u.a,null,"Link to linear view of breakend endpoints"),s.a.createElement("ul",null,n.map((function(e){return s.a.createElement("li",{key:"".concat(JSON.stringify(e))},s.a.createElement(p.a,{href:"#",onClick:function(t){t.preventDefault();var n,r=a.view;r?null===(n=r.navToLocString)||void 0===n||n.call(r,e):l.notify("No view associated with this feature detail panel anymore","warning")}},"LGV - ".concat(e)))}))),t?s.a.createElement("div",null,s.a.createElement(u.a,null,"Launch split views with breakend source and target"),s.a.createElement("ul",null,n.map((function(e){return s.a.createElement("li",{key:"".concat(JSON.stringify(e))},s.a.createElement(p.a,{href:"#",onClick:function(e){e.preventDefault(),b(!0)}},"".concat(r.refName,":").concat(r.start," // ").concat(e," (split view)")))}))),d?s.a.createElement(A,{model:a,feature:h,viewType:t,handleClose:function(){b(!1)}}):null):null)}t.default=Object(E.observer)((function(e){var t=e.model,a=t.featureData,r=t.descriptions,c=JSON.parse(JSON.stringify(a)),i=(c.samples,Object(n.a)(c,P));return s.a.createElement(b.a,{"data-testid":"variant-side-drawer"},s.a.createElement(j.FeatureDetails,Object.assign({feature:i,descriptions:Object(l.a)(Object(l.a)({},{CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:"alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"}),r)},e)),s.a.createElement(h.a,null),"breakend"===c.type?s.a.createElement(x,{feature:c,locStrings:c.ALT.map((function(e){return Object(J.parseBreakend)(e).MatePosition})),model:t}):null,"translocation"===c.type?s.a.createElement(x,{feature:c,model:t,locStrings:["".concat(c.INFO.CHR2[0],":").concat(c.INFO.END)]}):null,s.a.createElement(q,Object.assign({feature:c},e)))}))}}]);
//# sourceMappingURL=72.ddef0dbf.chunk.js.map